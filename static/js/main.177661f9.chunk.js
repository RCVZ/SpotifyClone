(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a(106)},,,,,function(e,t,a){},,function(e,t,a){},,,,,,function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(23),i=a.n(s),o=a(19),l=a(5),u=a(6),m=a(8),p=a(7),h=a(9),f=(a(31),a(33),a(37)),d=a(109),y=a(3),v=a(4),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSearchTerm=function(e){var t=e.target.value;a.props.search(t)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"SearchBar"},c.a.createElement("input",{onChange:this.handleSearchTerm,placeholder:"Enter A Song, Album, or Artist"}),c.a.createElement(f.a,{to:"/search"},c.a.createElement(y.a,{className:"Search_Button",icon:v.j}),c.a.createElement("button",{type:"submit",onClick:this.submitSearch,name:"SEARCH"})))}}]),t}(r.PureComponent),b=Object(d.a)(k),E=(a(39),a(107)),g=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Navbar-wrapper"},c.a.createElement("div",{className:"Navbar"},c.a.createElement(E.a,{className:"LinkButton",to:"/search"},c.a.createElement(y.a,{icon:v.j}),"  Search"),c.a.createElement(E.a,{className:"LinkButton",to:"/currentPlaylist"},c.a.createElement(y.a,{icon:v.a})," Current Playlist"),c.a.createElement(E.a,{className:"LinkButton",to:"/newPlaylist"},c.a.createElement(y.a,{icon:v.i})," New Playlist"),c.a.createElement(E.a,{className:"LinkButton",to:"/library"},c.a.createElement(y.a,{icon:v.k})," Library"),c.a.createElement(E.a,{className:"LinkButton",to:"/userPlaylists"},c.a.createElement(y.a,{icon:v.d})," Playlists")))}}]),t}(r.Component),P=Object(d.a)(g),w=(a(42),a(44),function(e){var t=e.children;return c.a.createElement("div",{className:"Grid"},t)}),O=a(110),j=a(41),x=function(e){var t=e.children;return c.a.createElement(w,null,c.a.createElement(O.a,null,c.a.createElement(j.a,{exact:!0,path:"/search",render:function(){return t}}),c.a.createElement(j.a,{path:"/search/playlists",render:function(){return t[0]}}),c.a.createElement(j.a,{path:"/search/tracks",render:function(){return t[1]}}),c.a.createElement(j.a,{path:"/search/albums",render:function(){return t[2]}}),c.a.createElement(j.a,{path:"/search/artists",render:function(){return t[3]}})))},C=(a(46),a(48),a(2)),T=a.n(C),N=a(13),A={getAccesToken:function(){if("undefined"!==typeof n)return n;var e=window.location.href.match(/access_token=([^&]*)/),t=window.location.href.match(/expires_in=([^&]*)/);if(e&&t){n=e[1];var a=Number(t[1]);return window.setTimeout(function(){return n=""},1e3*a),window.history.pushState("Access Token",null,"/"),n}var r="https://accounts.spotify.com/authorize?client_id=".concat("7234ae8b9cac4739b9af4f2806d43c7c","&redirect_uri=http://localhost:3000/&scope=playlist-modify-public%20playlist-modify-private%20streaming%20user-read-birthdate%20user-read-email%20user-read-private&response_type=token");window.location=r},getUserId:function(){var e=Object(N.a)(T.a.mark(function e(){var t,a,n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.getAccesToken(),a={Authorization:"Bearer ".concat(t)},n="",e.prev=3,e.next=6,fetch("https://api.spotify.com/v1/me",{headers:a});case 6:if(!(r=e.sent).ok){e.next=13;break}return e.next=10,r.json();case 10:return c=e.sent,n=c.id,e.abrupt("return",n);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[3,15]])}));return function(){return e.apply(this,arguments)}}(),searchPlaylists:function(){var e=Object(N.a)(T.a.mark(function e(t){var a,n,r,c,s,i,o=arguments;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:0,n=o.length>2&&void 0!==o[2]?o[2]:20,e.next=4,A.getAccesToken();case 4:return r=e.sent,c={Authorization:"Bearer ".concat(r)},e.prev=6,e.next=9,fetch("https://api.spotify.com/v1/search?q=".concat(t,"&type=playlist&limit=").concat(n,"&offset=").concat(a),{headers:c});case 9:if(!(s=e.sent).ok){e.next=15;break}return e.next=13,s.json();case 13:return i=e.sent,e.abrupt("return",i.playlists.items);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[6,17]])}));return function(t){return e.apply(this,arguments)}}(),searchArtists:function(){var e=Object(N.a)(T.a.mark(function e(t){var a,n,r,c,s,i,o=arguments;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:0,n=o.length>2&&void 0!==o[2]?o[2]:20,e.next=4,A.getAccesToken();case 4:return r=e.sent,c={Authorization:"Bearer ".concat(r)},e.prev=6,e.next=9,fetch("https://api.spotify.com/v1/search?q=".concat(t,"&type=artist&limit=").concat(n,"&offset=").concat(a),{headers:c});case 9:if(!(s=e.sent).ok){e.next=15;break}return e.next=13,s.json();case 13:return i=e.sent,e.abrupt("return",i.artists.items);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[6,17]])}));return function(t){return e.apply(this,arguments)}}(),searchAlbums:function(){var e=Object(N.a)(T.a.mark(function e(t){var a,n,r,c,s,i,o=arguments;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:0,n=o.length>2&&void 0!==o[2]?o[2]:20,e.next=4,A.getAccesToken();case 4:return r=e.sent,c={Authorization:"Bearer ".concat(r)},e.prev=6,e.next=9,fetch("https://api.spotify.com/v1/search?q=".concat(t,"&type=album&limit=").concat(n,"&offset=").concat(a),{headers:c});case 9:if(!(s=e.sent).ok){e.next=15;break}return e.next=13,s.json();case 13:return i=e.sent,e.abrupt("return",i.albums.items);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[6,17]])}));return function(t){return e.apply(this,arguments)}}(),searchTracks:function(){var e=Object(N.a)(T.a.mark(function e(t){var a,n,r,c,s,i,o=arguments;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:0,n=o.length>2&&void 0!==o[2]?o[2]:20,e.next=4,A.getAccesToken();case 4:return r=e.sent,c={Authorization:"Bearer ".concat(r)},e.prev=6,e.next=9,fetch("https://api.spotify.com/v1/search?q=".concat(t,"&type=track&limit=").concat(n,"&offset=").concat(a),{headers:c});case 9:if(!(s=e.sent).ok){e.next=15;break}return e.next=13,s.json();case 13:return i=e.sent,e.abrupt("return",i.tracks.items);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[6,17]])}));return function(t){return e.apply(this,arguments)}}(),fullSearch:function(){var e=Object(N.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.searchPlaylists(t);case 2:return e.t0=e.sent,e.next=5,A.searchArtists(t);case 5:return e.t1=e.sent,e.next=8,A.searchAlbums(t);case 8:return e.t2=e.sent,e.next=11,A.searchTracks(t);case 11:return e.t3=e.sent,a={playlists:e.t0,artists:e.t1,albums:e.t2,tracks:e.t3},e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),nextResults:function(){var e=Object(N.a)(T.a.mark(function e(t,a,n){var r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=20,"playlists"!==n){e.next=7;break}return e.next=4,A.searchPlaylists(t,a,r);case 4:return e.abrupt("return",e.sent);case 7:if("artist"!==n){e.next=13;break}return e.next=10,A.searchArtists(t,a,r);case 10:return e.abrupt("return",e.sent);case 13:if("albums"!==n){e.next=19;break}return e.next=16,A.searchAlbums(t,a,r);case 16:return e.abrupt("return",e.sent);case 19:if("tracks"!==n){e.next=23;break}return e.next=22,A.searchTracks(t,a,r);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),sendPlayList:function(){var e=Object(N.a)(T.a.mark(function e(t,a){var n,r,c,s,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccesToken();case 2:return n=e.sent,e.next=5,A.getUserId();case 5:return r=e.sent,c={Authorization:"Bearer ".concat(n)},e.prev=7,e.next=10,fetch("https://api.spotify.com/v1/users/".concat(r,"/playlists"),{method:"POST",headers:c,body:JSON.stringify({name:t})});case 10:if(!(s=e.sent).ok){e.next=27;break}return e.next=14,s.json();case 14:return i=e.sent,o=i.id,e.prev=16,e.next=19,fetch("https://api.spotify.com/v1/playlists/".concat(o,"/tracks"),{headers:c,method:"POST",body:JSON.stringify({uris:a})});case 19:if(!e.sent.ok){e.next=22;break}return e.abrupt("return");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.log(e.t0);case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(7),console.log(e.t1);case 32:case"end":return e.stop()}},e,this,[[7,29],[16,24]])}));return function(t,a){return e.apply(this,arguments)}}(),transferPlaybackHere:function(){var e=Object(N.a)(T.a.mark(function e(t){var a,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccesToken();case 2:a=e.sent,n={Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:n,body:JSON.stringify({device_ids:[t],play:!0})});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getPlaylist:function(){var e=Object(N.a)(T.a.mark(function e(){var t,a,n,r,c,s,i,o=arguments;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",a=o.length>1&&void 0!==o[1]?o[1]:"user",e.next=4,A.getAccesToken();case 4:return n=e.sent,r={user:"https://api.spotify.com/v1/me/playlists",spotify:"https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),spotifyAlbum:"https://api.spotify.com/v1/albums/".concat(t,"/tracks")},c={Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},e.prev=7,e.next=10,fetch(r[a],{headers:c});case 10:if(!(s=e.sent).ok){e.next=16;break}return e.next=14,s.json();case 14:return i=e.sent,e.abrupt("return",i.items);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.log(e.t0);case 21:case"end":return e.stop()}},e,this,[[7,18]])}));return function(){return e.apply(this,arguments)}}(),playTrack:function(){var e=Object(N.a)(T.a.mark(function e(t){var a,n,r,c,s,i=arguments;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:0,n=A.getAccesToken(),r={Authorization:"Bearer ".concat(n)},e.prev=3,e.next=6,fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:r,body:JSON.stringify({uris:a,offset:{uri:t}})});case 6:if(!(c=e.sent).ok){e.next=12;break}return e.next=10,c.json();case 10:s=e.sent,console.log(s);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[3,14]])}));return function(t){return e.apply(this,arguments)}}(),browserSpotify:function(){var e=Object(N.a)(T.a.mark(function e(){var t,a,n,r,c,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccesToken();case 2:return t=e.sent,a={Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},e.prev=4,e.next=7,fetch("https://api.spotify.com/v1/browse/categories?&limit=50",{headers:a});case 7:if(!(n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:return r=e.sent,c=r.categories.items,s=c.map(function(e){return e.images=e.icons,e}),e.abrupt("return",s);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[4,17]])}));return function(){return e.apply(this,arguments)}}()},S=A,B=(a(52),a(54),function(e){var t=e.name,a=e.artist,n=e.textSize,r=e.overfl;return c.a.createElement("div",{className:"Text"},c.a.createElement("p",{style:{fontSize:n,overflow:r}},t),c.a.createElement("p",{style:{fontSize:n,overflow:r}},a))}),z=(a(56),function(e){var t=e.ms;return c.a.createElement("div",{className:"Time"},function(e){var t,a,n;return a=Math.floor(e/1e3),t=Math.floor(a/60),n="0".concat(a%=60).slice(-2),"".concat(t,":").concat(n)}(t))}),L=(a(58),a(60),function(e){var t=e.onPlayClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"play-pause",onClick:t},c.a.createElement(y.a,{className:"button",icon:v.g,size:"lg"})))}),M=(a(62),function(e){var t=e.onAdd;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"AddButton",onClick:t},c.a.createElement(y.a,{className:"button",icon:v.h,size:"lg"})))}),_=(a(64),function(e){var t=e.onDelete;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"DeleteButton",onClick:t},c.a.createElement(y.a,{className:"button",icon:v.e,size:"lg"})))}),I=function(e){var t=e.trackAction,a=e.onPlayClick,n=e.inPlaylist;return c.a.createElement("div",{className:"Action-Overlay"},n?c.a.createElement(_,{onDelete:t}):c.a.createElement(M,{onAdd:t}),c.a.createElement(L,{onPlayClick:a}))},U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handlePlay=function(e){var t=a.props.getUrisList();S.playTrack(a.props.track.uri,t)},a.handleTrackAction=function(e){a.props.trackAction(a.props.track)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.track,t=e.id,a=e.trackIndex,n=e.artists,r=e.name,s=e.album,i=e.uri,o=e.duration_ms;return c.a.createElement("div",{className:"Track",id:t,key:a},c.a.createElement("div",{className:"Track-information",value:i},c.a.createElement("div",{className:"Album-img"},c.a.createElement("img",{src:s.images[2].url,alt:"album"})),c.a.createElement("div",{className:"Track-name"},c.a.createElement(B,{name:r,artist:n[0].name})),c.a.createElement(z,{ms:o})),c.a.createElement(I,{trackAction:this.handleTrackAction,onPlayClick:this.handlePlay,inPlaylist:this.props.inPlaylist}))}}]),t}(r.PureComponent),F=function(e){var t=e.trackAction,a=e.inPlaylist,n=e.tracklist,r=e.getUrisList;return c.a.createElement(w,null,n.map(function(e,n){return c.a.createElement(U,{track:e,trackIndex:n,id:e.id,key:n,trackAction:t,inPlaylist:a,getUrisList:r})}))},V=(a(66),function(e){var t=e.type,a=e.buttonAction,n=e.name;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"Button",type:t,onClick:a},n))}),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({playlistName:e.target.value})},a.handleOnsubmit=function(){a.props.savePlayList(a.state.playlistName)},a.state={playlistName:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playlist,a=e.deleteTrack;return c.a.createElement("div",{className:"Playlist"},c.a.createElement("input",{onChange:this.handleChange,placeholder:"Playlist"}),c.a.createElement(F,{tracklist:t,trackAction:a,inPlaylist:!0}),c.a.createElement(V,{type:"submit",onClick:this.handleOnsubmit,name:"SAVE TO SPOTIFY"}))}}]),t}(r.PureComponent),D=(a(68),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.playlist;return c.a.createElement(F,{tracklist:e})}}]),t}(r.PureComponent)),H=(a(70),a(72),a(74),function(e){var t=e.playlist,a=e.handleOnclick,n=e.id;return c.a.createElement("div",{className:"Card"},c.a.createElement("div",{className:"Card-Img"},c.a.createElement("img",{src:t.images[0].url,alt:"img"})),c.a.createElement(B,{name:t.name}),c.a.createElement(I,{trackAction:function(){return a(n,t.images)}}))}),J=function(e){var t=e.playlists,a=e.handleOnClick;return c.a.createElement("div",{className:"PlaylistDisplay"},t.map(function(e){return c.a.createElement(H,{playlist:e,id:e.id,key:e.id,handleOnclick:a})}))},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={playlists:[],results:6},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.browserSpotify().then(function(t){e.setState({playlists:t})})}},{key:"render",value:function(){var e=this.state.playlists;return c.a.createElement(w,null,c.a.createElement(J,{playlists:e,addToCurrentPlaylist:console.log("not working yet")}))}}]),t}(r.PureComponent),q=(a(76),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={userPlaylists:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.getPlaylist().then(function(t){e.setState({userPlaylists:t})})}},{key:"render",value:function(){var e=this.state.userPlaylists,t=this.props.addToCurrentPlaylist;return c.a.createElement(w,null,c.a.createElement(J,{playlists:e,addToCurrentPlaylist:t}))}}]),t}(r.PureComponent)),G=a(15),Q=(a(78),a(80),a(82),function(e){var t=e.children;return c.a.createElement("div",{className:"Title"},t)}),Y=(a(84),function(){return c.a.createElement("div",{className:"Border"})}),$=function(e){var t=e.children,a=e.buttonAction,n=e.name;return c.a.createElement("div",{className:"Header"},c.a.createElement(Q,null,t),c.a.createElement(V,{type:"button",buttonAction:a,name:n}),c.a.createElement(Y,null))},K=Object(d.a)(function(e){var t=e.tracklist,a=e.addToPlaylist,n=e.history,s=Object(r.useState)({expanded:!1,state:"More",results:4}),i=Object(G.a)(s,2),o=i[0];i[1];return console.log("test",t),c.a.createElement("div",{className:"ResultsTracklist"},c.a.createElement($,{name:o.state,buttonAction:function(){"/search/tracks"===n.location.pathname?n.push("/search"):n.push("/search/tracks")}},"Tracks"),c.a.createElement(F,{trackAction:a,tracklist:t.slice(0,"/search/tracks"===n.location.pathname?1/0:4)}))}),X=(a(86),Object(d.a)(function(e){var t=e.albums,a=e.addToCurrentPlaylist,n=e.history,s=Object(r.useState)({expanded:!1,state:"More",results:3}),i=Object(G.a)(s,2),o=i[0];i[1];return c.a.createElement("div",{className:"Albumslist"},c.a.createElement($,{name:o.state,buttonAction:function(){"/search/albums"===n.location.pathname?n.push("/search"):n.push("/search/albums")}},"Albums"),c.a.createElement(J,{addToCurrentPlaylist:a,playlists:t.slice(0,o.results),albums:!0}))})),Z=(a(88),Object(d.a)(function(e){var t=e.playlists,a=e.addToCurrentPlaylist,n=e.history,s=Object(r.useState)({expanded:!1,state:"More",results:3}),i=Object(G.a)(s,2),o=i[0],l=i[1];return c.a.createElement("div",{className:"Playlists"},c.a.createElement($,{name:o.state,buttonAction:function(){l(function(){return"/search/playlists"===n.location.pathname?(n.push("/search"),{expanded:!1,state:"More",results:3}):(n.push("/search/playlists"),{expanded:!0,state:"Less",results:20})})}},"Playlists"),c.a.createElement(J,{addToCurrentPlaylist:a,playlists:t.slice(0,o.results)}))})),ee=(a(90),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.loadOnScroll;return c.a.createElement("div",{className:"Main",onScroll:t},c.a.createElement(O.a,null,c.a.createElement(j.a,{path:"/search",render:function(){return e.props.children[0]}}),c.a.createElement(j.a,{path:"/currentPlaylist",render:function(){return e.props.children[1]}}),c.a.createElement(j.a,{path:"/newPlaylist",render:function(){return e.props.children[2]}}),c.a.createElement(j.a,{path:"/library",render:function(){return e.props.children[3]}}),c.a.createElement(j.a,{path:"/userPlaylists",render:function(){return e.props.children[4]}})))}}]),t}(r.PureComponent)),te=Object(d.a)(ee),ae=(a(92),a(94),function(e){var t=e.currentPostion,a=e.sliderAction,n=e.maxValue,r=e.handleMouseUp;return c.a.createElement("div",{className:"Bar-container"},c.a.createElement("input",{className:"Bar",onMouseUp:r,onChange:function(e){return a(e)},step:"1",type:"range",min:"1",value:t,max:n}),c.a.createElement("div",{className:"progression",style:{width:"".concat(100/n*t,"%")}}))}),ne=(a(96),function(e){var t=e.onPlayClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"play-pause",onClick:t},c.a.createElement(y.a,{className:"button",icon:v.f,size:"lg"})))}),re=(a(98),function(e){var t=e.onForward;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"forward",onClick:t},c.a.createElement(y.a,{className:"button",icon:v.c,size:"sm"})))}),ce=(a(100),function(e){var t=e.onBackward;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"back",onClick:t},c.a.createElement(y.a,{className:"button",icon:v.b,size:"sm"})))}),se=(a(102),function(e){var t=e.togglePlaylist;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"Playlist-Button"},c.a.createElement(y.a,{icon:v.d,onClick:t})))}),ie=(a(104),function(e){var t=e.children;return c.a.createElement("div",{className:"Track-Progression"},t)}),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).checkForPlayer=function(){var e=a.state.token;null!==window.Spotify&&(clearInterval(a.playerCheckInterval),a.player=new window.Spotify.Player({name:"SpotifyClone",getOAuthToken:function(t){t(e)}}),a.createEventHandlers(),a.player.connect())},a.createEventHandlers=function(){a.player.on("initialization_error",function(e){return console.error(e)}),a.player.on("authentication_error",function(e){return console.error(e)}),a.player.on("account_error",function(e){return console.error(e)}),a.player.on("playback_error",function(e){return console.error(e)}),a.player.on("player_state_changed",function(e){return a.onStateChanged(e)}),a.player.on("ready",function(e){var t=e.device_id;a.setState({deviceId:t})})},a.onStateChanged=function(e){if(null!==e){var t=e.track_window.current_track,n=t.name,r=t.album.name,c=t.artists.map(function(e){return e.name}).join(", "),s=!e.paused,i=t.duration_ms;a.setState({currentTrack:t,duration:i,trackName:n,albumName:r,artistName:c,playing:s}),a.player.getVolume().then(function(e){return a.setState({volume:100*e})})}},a.getPlayerCurrentstate=function(){a.player.getCurrentState().then(function(e){return a.setState({position:e.position})})},a.onPrevClick=function(){a.player.previousTrack()},a.onPlayClick=function(){a.player.togglePlay()},a.onNextClick=function(){a.player.nextTrack()},a.onVolumeClick=function(e){var t=e.target.value;a.player.setVolume(t/100).then(function(){return a.setState({volume:t})})},a.onSeek=function(e){clearInterval(a.getPlayerStateTimer),a.setState({position:e.target.value})},a.handleMouseUp=function(e){a.player.seek(a.state.position).then(function(){a.getPlayerStateTimer=setInterval(function(){return a.getPlayerCurrentstate()},100)})},a.toggleMute=function(e){a.state.mute?(a.player.setVolume(a.state.volume/100),a.setState({mute:!1})):(a.player.setVolume(0),a.setState({mute:!0}))},a.togglePlaylist=function(e){"hidden"===a.state.showPlaylist?a.setState({showPlaylist:"visible"}):a.setState({showPlaylist:"hidden"})},a.state={token:"",deviceId:"",loggedIn:!0,playing:!1,error:"",currentTrack:"",trackName:"",artistName:"",albumName:"",position:0,duration:0,volume:0,mute:!1,showPlaylist:"hidden"},a.playerCheckInterval=null,a.getPlayerStateTimer=null,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({token:S.getAccesToken()}),this.playerCheckInterval=setInterval(function(){return e.checkForPlayer()},800)}},{key:"render",value:function(){var e=this.state,t=e.playing,a=e.currentTrack,n=e.volume,r=e.duration,s=e.position,i=e.artistName,o=e.trackName,l=e.showPlaylist;return c.a.createElement("div",{className:"Player"},c.a.createElement("div",{className:"Track-info"},this.state.playing?c.a.createElement(U,{track:a}):c.a.createElement("p",null,i,": ",o)),c.a.createElement("div",{className:"Control"},c.a.createElement("div",{className:"Player-buttons"},c.a.createElement(ce,{onBackward:this.onPrevClick}),t?c.a.createElement(ne,{onPlayClick:this.onPlayClick}):c.a.createElement(L,{onPlayClick:this.onPlayClick}),c.a.createElement(re,{onForward:this.onNextClick})),c.a.createElement(ie,null,c.a.createElement(z,{ms:s}),c.a.createElement("div",{className:"Track-Bar"},c.a.createElement(ae,{currentPostion:s,sliderAction:this.onSeek,maxValue:r,handleMouseUp:this.handleMouseUp})),c.a.createElement(z,{ms:r}))),c.a.createElement("div",{className:"Control-Leftside"},c.a.createElement("div",{className:"Current-Playlist-Container",style:{visibility:l}},c.a.createElement(D,{playlist:this.props.currentPlaylist})),c.a.createElement(se,{togglePlaylist:this.togglePlaylist}),c.a.createElement("div",{className:"volume"},c.a.createElement(y.a,{icon:v.l,size:"sm",onClick:this.toggleMute}),c.a.createElement("div",{className:"volume-bar"},c.a.createElement(ae,{currentPostion:n,sliderAction:this.onVolumeClick,maxValue:"100"})))))}}]),t}(r.PureComponent),le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).searchSpotify=function(e){S.fullSearch(e).then(function(t){var n=t.playlists,r=t.artists,c=t.albums,s=t.tracks;a.setState({searchTerm:e,playlists:n,artists:r,albums:c,tracks:s},function(){a.props.history.push("/search")})})},a.addToNewPlaylist=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=a.state.newPlaylist.filter(function(t){return t.id!==e.id});n.splice(t,0,e),a.setState({newPlaylist:n})},a.addToCurrentPlaylist=function(e){a.setState({currentPlaylist:e})},a.deleteTrack=function(e){var t=a.state.newPlaylist.filter(function(t){return t.id!==e.id});a.setState({newPlaylist:t})},a.savePlayList=function(e){if(a.state.newPlaylist.length>0&&e.length>0){var t=a.state.newPlaylist.map(function(e){return e.uri});S.sendPlayList(e,t)}},a.getUrisList=function(){var e=[];return a.props.tracklist.map(function(t){return e.push(t.uri)}),e},a.handleOnclick=function(e,t){var n=[],r="spotify";!0===a.props.albums?(r="spotifyAlbum",S.getPlaylist(e,r).then(function(e){e.map(function(e){return e.album={images:t},n.push(e)})})):S.getPlaylist(e,r).then(function(e){e.map(function(e){return n.push(e.track)})}),a.props.addToCurrentPlaylist(n)},a.loadOnScroll=function(e){var t=a.props.location.pathname.split("/")[2];e.target.scrollHeight/3.5<=e.target.scrollTop&&S.nextResults(a.state.searchTerm,a.state.offset,t).then(function(e){a.setState(function(a){var n;return n={},Object(o.a)(n,t,a[t].concat(e)),Object(o.a)(n,"offset",a.offset+20),n})})},a.state={searchTerm:"",playlists:[],artists:[],albums:[],tracks:[],newPlaylist:[],currentPlaylist:[],scroll:!1,offset:20},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){S.getAccesToken()}},{key:"render",value:function(){var e=this.state,t=e.currentPlaylist,a=e.playlists,n=(e.artists,e.albums),r=e.tracks;return c.a.createElement("div",{className:"App"},c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,{search:this.searchSpotify}),c.a.createElement(P,null),c.a.createElement(te,{loadOnScroll:this.loadOnScroll},c.a.createElement(x,null,c.a.createElement(Z,{playlists:a,addToCurrentPlaylist:this.addToCurrentPlaylist}),c.a.createElement(K,{tracklist:r,addToPlaylist:this.addToNewPlaylist}),c.a.createElement(X,{albums:n,addToCurrentPlaylist:this.addToCurrentPlaylist})),c.a.createElement(D,{playlist:t}),c.a.createElement(W,{savePlayList:this.savePlayList,playlist:this.state.newPlaylist,deleteTrack:this.deleteTrack}),c.a.createElement(R,{addToCurrentPlaylist:this.addToCurrentPlaylist}),c.a.createElement(q,{addToCurrentPlaylist:this.addToCurrentPlaylist})),c.a.createElement(oe,{currentPlaylist:t})))}}]),t}(r.PureComponent),ue=Object(d.a)(le),me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var he=a(108);i.a.render(c.a.createElement(he.a,null,c.a.createElement(ue,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/SpotifyClone",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/SpotifyClone","/service-worker.js");me?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):pe(e)})}}()}]),[[26,2,1]]]);
//# sourceMappingURL=main.177661f9.chunk.js.map